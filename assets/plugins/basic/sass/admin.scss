@import "variables";


#adminmenu li.wp-has-current-submenu a.wp-has-current-submenu {
    color: $admin-link-primary-accent;
    background: $adminmenu-expanded-bg;
}


#adminmenu li.current a.menu-top,
.folded #adminmenu li.wp-has-current-submenu,
.folded #adminmenu li.current.menu-top,
#adminmenu .wp-menu-arrow,
#adminmenu .wp-has-current-submenu .wp-submenu .wp-submenu-head,
#adminmenu .wp-menu-arrow div {
    background: $brand-primary;
}

#adminmenuback,
#adminmenuwrap,
#adminmenu {
    background: $adminmenu-bg;
}

#adminmenu li.menu-top:hover,
#adminmenu li.menu-top a:hover,
#adminmenu li.opensub>a.menu-top,
#adminmenu li>a.menu-top:focus {
    background: darken($brand-primary, 10%);
    color: #ffffff;
}

#adminmenu .wp-has-current-submenu .wp-submenu,
.no-js li.wp-has-current-submenu:hover .wp-submenu,
#adminmenu a.wp-has-current-submenu:focus+.wp-submenu,
#adminmenu .wp-has-current-submenu .wp-submenu.sub-open,
#adminmenu .wp-has-current-submenu.opensub .wp-submenu,
#adminmenu .wp-not-current-submenu .wp-submenu,
.folded #adminmenu .wp-has-current-submenu .wp-submenu {
    background: $adminmenu-expanded-bg;
}


#adminmenu div.wp-menu-image:before,
#collapse-button div:after {
    color: #eee;
}


ul#adminmenu a.wp-has-current-submenu:after,
ul#adminmenu > li.current > a.current:after {
    border-right-color: $body-bg;
}

#adminmenu {
    .wp-submenu a,
    li.menu-top .wp-submenu a {
        color: $admin-link-primary-normal;
    }

    li.wp-has-submenu.wp-not-current-submenu.opensub:hover:after {
        border-right-color: $adminmenu-submenu-hover-bg;
    }

    .wp-submenu a:focus,
    .wp-submenu a:hover,
    li.menu-top .wp-submenu a:hover {
        color: #fff;
    }

    .wp-submenu li.current a:focus,
    li.menu-top .wp-submenu li.current a:hover,
    a.wp-has-current-submenu:focus + .wp-submenu li.current a,
    .opensub .wp-submenu li.current a,
    .wp-submenu li.current,
    li.menu-top .wp-submenu li.current a,
    li.menu-top .wp-submenu li.current a:focus,
    li.menu-top .wp-submenu li.current a:hover,
    a.wp-has-current-submenu:focus + .wp-submenu li.current a {
        color: #fff;
        background-color: $admin-link-primary-accent;
    }

    div.wp-menu-image:before,
    a {
        color: $admin-link-primary-normal;
    }

    li.wp-has-current-submenu:hover div.wp-menu-image:before,
    .wp-has-current-submenu div.wp-menu-image:before,
    .current div.wp-menu-image:before,
    a.current:hover div.wp-menu-image:before,
    li.wp-has-current-submenu a:focus div.wp-menu-image:before,
    li.wp-has-current-submenu.opensub div.wp-menu-image:before {
        color: $admin-link-primary-accent;
    }

    a.wp-has-current-submenu:hover div.wp-menu-image:before {
        color: white !important;
    }


    li:hover div.wp-menu-image:before,
    li a:focus div.wp-menu-image:before,
    li.opensub div.wp-menu-image:before {
        color: #fff;
    }


    li.opensub .wp-submenu {
        background-color: #fff !important;

        a:hover {
            color: $admin-link-primary-accent;
            background-color: #fff;
        }
    }
}



#collapse-button:hover,
#collapse-button:focus {
    color: $brand-primary;
}

.community-events li.event-none {
    border-left: 4px solid $brand-primary;
}

.wrap {
    .page-title-action {
        color: $admin-link-primary-normal;
    };

    .add-new-h2:hover,
    .page-title-action:hover {
        border-color: $brand-primary;
        background: $brand-primary;
    }

    h1.wp-heading-inline,
    > h1 {
        margin-right: $font-size-base;
        margin-bottom: 0.5em;
        color: $brand-primary;
    }
}


#wpadminbar {
    background-color: $adminbar-bg;
    height: $adminbar-height;
    -webkit-box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.2);
    -moz-box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.2);
    box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.2);
    transition-duration: 0.3s;

    &.heavy-shadow {
        -webkit-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);
        -moz-box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);
        box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.3);
        transition-duration: 0.3s;
    }

    .quicklinks a,
    .quicklinks .ab-empty-item,
    .shortlink-input {
        height: $adminbar-height;
        line-height: $adminbar-height;
    }

    &:not(.mobile) .ab-top-menu > li > .ab-item:focus,
    &.nojq .quicklinks .ab-top-menu > li > .ab-item:focus,
    &:not(.mobile) .ab-top-menu > li:hover > .ab-item,
    .ab-top-menu > li.hover > .ab-item {
        color: #fff;
        background-color: darken($brand-primary, 10%);
    }

    .quicklinks .menupop ul li a:hover,
    .quicklinks .menupop ul li a:focus,
    .quicklinks .menupop ul li a:hover strong,
    .quicklinks .menupop ul li a:focus strong,
    .quicklinks .ab-sub-wrapper .menupop.hover > a,
    .quicklinks .menupop.hover ul li a:hover,
    .quicklinks .menupop.hover ul li a:focus,
    .quicklinks .menupop.hover ul li div[tabindex]:hover,
    .quicklinks .menupop.hover ul li div[tabindex]:focus,
    .nojs .quicklinks .menupop:hover ul li a:hover,
    .nojs .quicklinks .menupop:hover ul li a:focus,
    li:hover .ab-item:before,
    li a:focus .ab-icon:before,
    li .ab-item:focus:before,
    li .ab-item:focus .ab-icon:before,
    li.hover .ab-icon:before,
    li.hover .ab-item:before,
    li:hover #adminbarsearch:before,
    li #adminbarsearch.adminbar-focused:before {
        color: $brand-primary;
    }


    .ab-submenu {
        background-color: #fff;
    }


    &:not(.mobile) > #wp-toolbar li:hover span.ab-label,
    & > #wp-toolbar li.hover span.ab-label,
    &:not(.mobile) > #wp-toolbar a:focus span.ab-label {
        color: #fff;
    }

    li:hover .ab-icon:before,
    .hover .ab-icon:before {
        color: #fff;
    }

    #wp-admin-bar-user-actions > li {
        margin-left: 0;
        margin-right: 0;
    }

    #wp-admin-bar-user-actions > li a {
        padding-left: 26px;
        padding-right: 26px;
    }
}


.subsubsub {
    color: $body-bg;
    margin-bottom: 1em;

    a {
        color: $admin-link-primary-normal;

        &:hover {
            color: $admin-link-primary-accent;
        }

        &.current {
            color: $admin-link-primary-accent;
            padding-bottom: 0.5em;
            border-bottom: 3px solid $admin-link-primary-accent;
        }

        &.current .count,
        .count {
            color: inherit;
        }
    }
}



// 列表 action list 如果过长的话会导致某个 action 的标题被折到下一行
// 改成这样就好点
.row-actions > span {
    display: inline-block;
}


@media screen and (min-width: 786px) {
    #wpadminbar {
        & > #wp-toolbar > #wp-admin-bar-root-default .ab-icon,
        .ab-icon,
        .ab-item:before {
            color: $adminbar-link-color;
        }

        .ab-empty-item,
        a.ab-item,
        & > #wp-toolbar span.ab-label,
        & > #wp-toolbar span.noticon {
            color: $adminbar-link-color;
        }

        .quicklinks .menupop ul li a,
        .quicklinks .menupop ul li a strong,
        .quicklinks .menupop.hover ul li a,
        .nojs .quicklinks .menupop:hover ul li a {
            color: #333;
        }
        .ab-icon:before {
            color: $adminbar-link-color;
        }
    }

    #wp-admin-bar-my-sites > .ab-item:before,
    #wp-admin-bar-site-name > .ab-item:before {
        top: 2px + ($adminbar-height - $adminbar-original-height) / 2;
    }

    #wp-admin-bar-site-name {
        background-color: $brand-primary !important;

        & > .ab-item:before,
        a {
            color: #fff !important;
        }

        & > .ab-item:before {
            padding-right: 1em;
        }

        }

    .ab-icon:before,
    .ab-item:before {
        top: 2px + ($adminbar-height - $adminbar-original-height) / 2 !important;
    }


    html.wp-toolbar {
        padding-top: $adminbar-height;
    }

}

@media screen and (min-width: 960px) {
    #wp-admin-bar-site-name {

        & > .ab-item {
            font-size: 18px;
            letter-spacing: 0.1em;
            font-weight: bold;
        }

        & > .ab-item:before {
            padding-right: 0;
        }
    }
}


@media screen and (max-width: 782px) {
    #wpadminbar {
        height: 46px;
        background-color: $adminbar-bg;

        .ab-submenu {
            background: darken($adminbar-bg, 5%);
        }
    }
    .wp-responsive-open #wpadminbar #wp-admin-bar-menu-toggle .ab-icon:before {
        color: #fff;
    }

    #wpadminbar.mobile .quicklinks .hover .ab-icon:before,
    #wpadminbar.mobile .quicklinks .hover .ab-item:before {
        color: #fff;
    }

    #wpbody {
    }
}


.view-switch a.current:before {
    color: $admin-link-primary-accent;
}




@import "addon";
@import "admin-menu";
@import "list-tables";
